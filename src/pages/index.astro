---
import BaseHead from '../components/BaseHead.astro';
import '../styles/glass.css';
---

<!DOCTYPE html>
<html lang="zh-CN">
	<head>
		<BaseHead title="个人引导页" description="Links and profile" />
	</head>
	<body>
		<div class="bg-blur"></div>
		<main class="glass-container">
			<img class="avatar" src="/avatar.png" alt="avatar" />
			<h1>Your Name</h1>
			<p class="tagline">Full-stack developer ・ Indie hacker</p>
			<ul id="links" class="links"></ul>
		</main>

		<script type="module">
			async function loadLinks() {
				try {
					const res = await fetch('/api/links');
					const data = await res.json();
					const ul = document.getElementById('links');
					ul.innerHTML = '';
					for (const link of data.links) {
						const li = document.createElement('li');
						li.innerHTML = `<a href="${link.url}" target="_blank" rel="noopener">${link.label}</a>`;
						ul.appendChild(li);
					}
				} catch (err) {
					console.error('Failed to load links', err);
				}
			}
			loadLinks();
		</script>
	</body>
</html>
